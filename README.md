# Japanese Font Library - PresetBuilder
スカイリム用のフォントプリセットを生成します。

## 動作環境
以下のツールをインストールして下さい。

* **[UV](https://docs.astral.sh/uv/)**  
Python実行環境。

```powershell:uvインストール
powershell -ExecutionPolicy ByPass -c "irm https://astral.sh/uv/install.ps1 | iex"
```


* **[FFDec](https://github.com/jindrapetrik/jpexs-decompiler)**  
インストールするだけでOKです（本ツールが自動で実行ファイルを探します。見つからない場合は `settings.yml` で指定可能です）。


## 使い方
### 1. 準備
1. 本リポジトリをクローンまたはダウンロードします。

2. `fonts_core.swf` ファイルを [NexusMods](https://www.nexusmods.com/skyrimspecialedition/mods/12589) の `Miscellaneous files` からダウンロードし、任意のフォルダに解凍して下さい。

3. 使用したいフォントファイルも同様にダウンロードし、任意のフォルダに解凍して下さい。



### 2. ツールの起動
`run.cmd` をダブルクリックで起動します。
初回起動時は読み込みフォルダが設定されていません、画面右上の `フォルダを開く` を押して、フォントファイルを置いたフォルダを指定して下さい。

> [!NOTE]
> フォントの初回読み込み時に、指定したフォントフォルダ内の全てのSWFファイルの検査が実行されます。

### 3. フォントのマッピング
画面上には、読み込まれたフォント名の一覧が左側、マッピングは右側にグループ単位で表示されます。  
左側のフォント名を選択した状態で、マップ名の隣にある `>>` を押すことで設定可能です。  
また、グループごとに設定したい場合は「左のリストで選択中のフォントを ～ 全体に適用」ボタンを押すことで一括適用可能です。

### 4. プリセットの出力
マッピングが完了しましたら、画面右下の「ユーザープリセットを出力」を押して、任意のフォルダを選択します。  
指定したフォルダに、`Interface` フォルダが作成され、中に `fontconfig.txt`, `fontconfig_ja.txt`, フォントSWFファイルが出来上がります。
これを直接ゲームDataディレクトリ `Skyrim\Data` に置くか、圧縮して Vortex や ModOrganizer2 などで読み込ませるとフォントがゲームに適用されます。

### 5. 設定の保存
設定した内容は保存しておくことが可能です。  
画面左下の「現在のユーザープリセット設定を保存」を押すことで、次回起動時に自動で読み込まれるようになります。
